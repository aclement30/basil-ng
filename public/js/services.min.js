!function(){"use strict";function e(e,t,n,i){var o={user:null,authenticated:!1};if(i.isSupported){var r=i.get("user");r&&(o.user=r,o.authenticated=!0)}return o.login=function(r){t({method:"GET",url:"/api/user"}).success(function(t,s,a,u){o.authenticated=!0,o.user=t,i.isSupported&&i.set("user",t),e.$broadcast(n.loginSuccess),typeof r==typeof Function&&r()}).error(function(t,s,a,u){o.authenticated=!1,o.user=null,i.isSupported&&i.remove("user"),typeof r==typeof Function&&r(),e.$broadcast(n.loginFailed),typeof r==typeof Function&&r()})},o.logout=function(e){o.authenticated=!1,o.user=null,t({method:"GET",url:"/logout"}).success(function(t,n,o,r){i.isSupported&&i.remove("user"),typeof e==typeof Function&&e()}).error(function(t,n,i,o){typeof e==typeof Function&&e()})},o.isAuthenticated=function(){return o.authenticated},o}angular.module("basilApp.services").factory("Auth",e)}(),function(){"use strict";function e(e,t,n){return{responseError:function(i){return e.$broadcast({401:n.notAuthenticated,403:n.notAuthorized,419:n.sessionTimeout,440:n.sessionTimeout}[i.status],i),t.reject(i)}}}angular.module("basilApp.services").factory("AuthInterceptor",e)}(),function(){"use strict";function e(e,t,n){return{resolve:function(){var i=e.defer(),o=t.$watch("currentUser",function(e){angular.isDefined(e)&&(e?i.resolve(e):(i.reject(),n.go("login")),o())});return i.promise}}}angular.module("basilApp.services").factory("AuthResolver",e)}(),function(){"use strict";function e(){var e={},t=[{name:"Déjeuner",alias:"dejeuner"},{name:"Boissons & cocktails",alias:"boissons"},{name:"Collations",alias:"collations"},{name:"Bouchées & entrées",alias:"bouchees"},{name:"Soupes & potages",alias:"soupes"},{name:"Lunch & salade",alias:"lunch"},{name:"Sandwichs",alias:"sandwichs"},{name:"Légumes & gratins",alias:"légumes"},{name:"Pâtes & riz",alias:"pates"},{name:"Poisson & fruit de mer",alias:"poisson"},{name:"Viande",alias:"viande"},{name:"Dessert",alias:"dessert"}];return e.list={},angular.forEach(t,function(t){e.list[t.alias]=t}),e}angular.module("basilApp.services").factory("Category",e)}(),angular.module("basilApp").factory("Ingredient",["$filter",function(e){return{parse:function(t){try{var n=Ingreedy.parse(t.description);t.quantity=e("ingredientQuantity")(n.quantity,"float"),t.name=n.name,t.unit=n.unit,t.type=n.type,n.container&&(t.quantity=parseFloat(n.container.quantity),t.unit=n.container.unit),console.log(t)}catch(i){console.log(i)}return t},parseCombined:function(e){var t=e.split("\n"),n=[],i=this;return angular.forEach(t,function(e,t){var o={description:e};o=i.parse(o),n.push(o)}),n},getStorableQuantity:function(e){},getConvertedIngredient:function(e){var t,n="metric";if($scope.recipe.ingredientsUnit&&(n=$scope.recipe.ingredientsUnit),e.unit){e.unit}else t=e}}}]),function(){"use strict";function e(e){var t={};return t.recipes={},t.favoriteRecipes={},t.cookingRecipes={},t.toggleCooking=function(e){var n=t.recipes[e];n.isCooking=!n.isCooking,n.isCooking?t.cookingRecipes[e]=n:delete t.recipes[e]},t.toggleFavorite=function(e){var n=t.recipes[e];n.isFavorite=!n.isFavorite,n.isFavorite?t.cookingRecipes[e]=n:delete t.recipes[e]},t.isCooking=function(e){return t.cookingRecipes.indexOf(e)>-1},t.init=function(){var n=e.query().$promise;return n.then(function(e){angular.forEach(e,function(e,n){"$promise"!=n&&"$resolved"!=n&&(t.recipes[n]=e,e.isFavorite&&(t.favoriteRecipes[n]=t.recipes[n]),e.isCooking&&(t.cookingRecipes[n]=t.recipes[n]))})}),n},t}angular.module("basilApp.services").factory("Kitchen",e)}(),function(){"use strict";function e(e){var t=e("/api/recipes/:id",{id:"@_id"},{query:{method:"GET",isArray:!1,transformResponse:[function(e,n){return n("X-Total-Count")&&(t.totalCount=Number(n("X-Total-Count"))),angular.fromJson(e)}]},update:{method:"PUT"}});return t.totalCount=0,t}angular.module("basilApp.services").factory("Recipe",e)}();